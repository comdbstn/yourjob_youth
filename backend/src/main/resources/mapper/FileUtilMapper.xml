<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "//mybatis.org/DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.yourjob.backend.mapper.FileUtilMapper">
    <insert id="insertJobResumeFileData" parameterType="map" useGeneratedKeys="true" keyProperty="fileidx">
        insert into file_attach
        (user_id,
        con_id,
        type,
        year_date,
        file_name,
        file_ext,
        file_path_s3)
        VALUES (
        #{user_id},
        #{con_id},
        #{type},
        #{year_date},
        #{file_name},
        #{file_ext},
        #{file_path_s3})
    </insert>
    <select id="getFileDataByIdx" parameterType="map" resultType="map">
        select
        file_attach_id,
        user_id,
        con_id,
        type,
        year_date,
        file_name,
        file_ext,
        file_path_s3,
        created_at,
        updated_at
        from file_attach
        where file_attach_id = #{fileidx}
    </select>
</mapper>